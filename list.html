<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"
  integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
  <title>List Page</title>
</head>

<body>
  
  <div class="container">
    <div class="row">
  
    </div>
  </div> 
  
  <button onclick="t()">가격순 정렬</button>

      <script>
      // 상품명 다나가순 정렬
      // 6만원 이하 상품만 보기 정렬
        var products = [
          { id : 0, price : 70000, title : 'Blossom Dress' },
          { id : 1, price : 50000, title : 'Springfield Shirt' },
          { id : 2, price : 60000, title : 'Black Monastery' }
        ];


        function t() {
        $('.row').empty();
        products.sort(function(a,b){
          return a.price - b.price;
        });

        for(i=0;i<products.length;i++){
          $('.row').append(
        `<div class="col-sm-4">
          <img src="https://via.placeholder.com/600" class="w-100">
          <h5>${products[i].title}</h5>
          <p>가격 : ${products[i].price}</p>
          <button class="buy" onclick="tt(${i})">구매</button>
        </div>
        `);
        }
      }

        for(i=0;i<products.length;i++){
          $('.row').append(
        `<div class="col-sm-4">
          <img src="https://via.placeholder.com/600" class="w-100">
          <h5>${products[i].title}</h5>
          <p>가격 : ${products[i].price}</p>
          <button class="buy" onclick="tt(${i})">구매</button>
        </div>
        `);
        }


        function tt(i){
          var arr=[];

        if(isNaN(localStorage.getItem("cart")))
        {
          arr = JSON.parse(localStorage.getItem("cart"));
          for(var y=0;y<arr.length;y++)
          {
            if(products[i].title == arr[y])
            {
            alert("이미있음");
            return;
            }
          }
          arr.push(products[i].title);
          localStorage.setItem("cart",JSON.stringify(arr));
        }
        else
        {
          if(products[i].title == arr[y])
            {
            alert("이미있음");
            return;
            }
          arr.push(products[i].title);
          localStorage.setItem("cart",JSON.stringify(arr));
        }

      }
          
      </script> 




</body>

</html>